<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traditional Chinese Medicine Five Elements Constitution Analysis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'KaiTi', 'SimSun', 'Times New Roman', serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%);
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(218,165,32,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(139,69,19,0.1) 0%, transparent 50%),
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><defs><pattern id="mountains" patternUnits="userSpaceOnUse" width="200" height="200"><rect width="200" height="200" fill="%23000"/><path d="M0,150 Q50,100 100,120 Q150,140 200,110 L200,200 L0,200 Z" fill="%23333" opacity="0.3"/><path d="M0,170 Q30,130 80,150 Q120,170 160,140 Q180,130 200,145 L200,200 L0,200 Z" fill="%23444" opacity="0.4"/><circle cx="160" cy="40" r="25" fill="%23DAA520" opacity="0.6"/></pattern></defs><rect width="200" height="200" fill="url(%23mountains)"/></svg>');
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(218,165,32,0.05) 0%, transparent 30%),
                radial-gradient(circle at 90% 80%, rgba(205,133,63,0.05) 0%, transparent 30%);
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: start;
        }

        .input-section {
            background: linear-gradient(145deg, rgba(245,245,220,0.95), rgba(255,248,220,0.95));
            border-radius: 20px;
            padding: 35px;
            box-shadow: 
                0 15px 35px rgba(0,0,0,0.4),
                inset 0 1px 0 rgba(255,255,255,0.9),
                0 0 0 3px rgba(218,165,32,0.3);
            border: 2px solid #DAA520;
            position: relative;
            backdrop-filter: blur(10px);
        }

        .input-section::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg, #DAA520, #B8860B, #CD853F, #DAA520);
            border-radius: 23px;
            z-index: -1;
            animation: borderGlow 3s ease-in-out infinite alternate;
        }

        @keyframes borderGlow {
            0% { opacity: 0.6; }
            100% { opacity: 1; }
        }

        .result-section {
            background: linear-gradient(145deg, rgba(250,240,230,0.95), rgba(245,222,179,0.95));
            border-radius: 20px;
            padding: 35px;
            box-shadow: 
                0 15px 35px rgba(0,0,0,0.4),
                inset 0 1px 0 rgba(255,255,255,0.9),
                0 0 0 3px rgba(205,133,63,0.3);
            border: 2px solid #CD853F;
            position: relative;
            backdrop-filter: blur(10px);
        }

        .result-section::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg, #CD853F, #A0522D, #D2691E, #CD853F);
            border-radius: 23px;
            z-index: -1;
            animation: borderGlow 3s ease-in-out infinite alternate;
        }

        h1 {
            color: #8B4513;
            font-size: 32px;
            margin-bottom: 35px;
            display: flex;
            align-items: center;
            gap: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-weight: bold;
            text-align: center;
            justify-content: center;
        }

        h2 {
            color: #A0522D;
            font-size: 28px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            font-weight: bold;
            text-align: center;
            justify-content: center;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 12px;
            font-weight: bold;
            color: #654321;
            font-size: 18px;
            text-align: center;
        }

        input[type="date"] {
            width: 100%;
            padding: 15px;
            border: 3px solid #DAA520;
            border-radius: 15px;
            font-size: 18px;
            font-family: 'KaiTi', 'SimSun', serif;
            background: linear-gradient(145deg, #FFFACD, #FFF8DC);
            transition: all 0.3s;
            text-align: center;
        }

        input[type="date"]:focus {
            outline: none;
            border-color: #B8860B;
            box-shadow: 0 0 15px rgba(218,165,32,0.6);
            transform: scale(1.02);
        }

        .analyze-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #CD853F, #A0522D, #8B4513);
            color: #FFF8DC;
            border: none;
            border-radius: 15px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'KaiTi', 'SimSun', serif;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }

        .analyze-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .analyze-btn:hover::before {
            left: 100%;
        }

        .analyze-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
            background: linear-gradient(135deg, #D2691E, #B8860B, #A0522D);
        }

        .element-bar {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            gap: 20px;
            background: linear-gradient(145deg, rgba(255,255,255,0.4), rgba(245,245,220,0.4));
            padding: 15px;
            border-radius: 15px;
            border: 2px solid rgba(218,165,32,0.3);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }

        .element-bar:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(0,0,0,0.3);
        }

        .element-icon {
            font-size: 28px;
            width: 40px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .element-name {
            font-weight: bold;
            width: 70px;
            color: #654321;
            font-size: 20px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .progress-container {
            flex: 1;
            background: linear-gradient(145deg, rgba(139,69,19,0.3), rgba(160,82,45,0.3));
            border-radius: 12px;
            height: 30px;
            overflow: hidden;
            border: 2px solid rgba(218,165,32,0.5);
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
        }

        .progress-bar {
            height: 100%;
            border-radius: 10px;
            transition: width 1s ease;
            position: relative;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2.5s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .percentage {
            font-weight: bold;
            width: 60px;
            text-align: right;
            color: #654321;
            font-size: 18px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .wood { 
            background: linear-gradient(90deg, #228B22, #32CD32, #90EE90);
            box-shadow: inset 0 2px 4px rgba(50,205,50,0.4), 0 2px 8px rgba(34,139,34,0.3);
        }
        .fire { 
            background: linear-gradient(90deg, #DC143C, #FF4500, #FF6347);
            box-shadow: inset 0 2px 4px rgba(255,69,0,0.4), 0 2px 8px rgba(220,20,60,0.3);
        }
        .earth { 
            background: linear-gradient(90deg, #8B4513, #D2691E, #DEB887);
            box-shadow: inset 0 2px 4px rgba(210,105,30,0.4), 0 2px 8px rgba(139,69,19,0.3);
        }
        .metal { 
            background: linear-gradient(90deg, #FFD700, #FFA500, #FFFF99);
            box-shadow: inset 0 2px 4px rgba(255,215,0,0.4), 0 2px 8px rgba(255,165,0,0.3);
        }
        .water { 
            background: linear-gradient(90deg, #1E90FF, #4169E1, #87CEEB);
            box-shadow: inset 0 2px 4px rgba(65,105,225,0.4), 0 2px 8px rgba(30,144,255,0.3);
        }

        .characteristics {
            margin-top: 35px;
        }

        .char-item {
            margin-bottom: 20px;
            padding: 20px;
            background: linear-gradient(145deg, rgba(255,255,255,0.9), rgba(245,245,220,0.9));
            border-radius: 15px;
            border-left: 6px solid #CD853F;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }

        .char-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(0,0,0,0.3);
        }

        .char-label {
            font-weight: bold;
            color: #A0522D;
            margin-bottom: 8px;
            font-size: 18px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .char-value {
            color: #654321;
            font-size: 16px;
            line-height: 1.6;
        }

        .health-advice {
            margin-top: 25px;
            padding: 25px;
            background: linear-gradient(145deg, rgba(255,248,220,0.95), rgba(245,222,179,0.95));
            border-radius: 15px;
            border-left: 6px solid #DAA520;
            box-shadow: 0 6px 18px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }

        .health-advice:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.3);
        }

        .advice-title {
            font-weight: bold;
            color: #B8860B;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 20px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .advice-content {
            color: #654321;
            line-height: 1.8;
            font-size: 16px;
        }

        .tcm-decoration {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 70px;
            color: rgba(218,165,32,0.3);
            pointer-events: none;
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .yin-yang {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 50px;
            color: rgba(139,69,19,0.4);
            pointer-events: none;
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.4; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            body {
                font-size: 14px;
                padding: 15px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            h2 {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="input-section">
            <div class="tcm-decoration">☯</div>
            <div class="yin-yang">🏮</div>
            <h1>🌸 Five Elements Constitution Analysis</h1>
            <form id="birthForm">
                <div class="form-group">
                    <label for="birthDate">Please select your birth date:</label>
                    <input type="date" id="birthDate" required>
                </div>
                <button type="submit" class="analyze-btn">🔮 Start Analysis</button>
            </form>
        </div>

        <div class="result-section" id="resultSection" style="display: none;">
            <div class="tcm-decoration">🐉</div>
            <div class="yin-yang">🏯</div>
            <h2>📜 Your Five Elements Analysis</h2>
            
            <div class="elements-chart">
                <div class="element-bar">
                    <span class="element-icon">🌲</span>
                    <span class="element-name">Wood</span>
                    <div class="progress-container">
                        <div class="progress-bar wood" id="woodBar"></div>
                    </div>
                    <span class="percentage" id="woodPercent">0%</span>
                </div>

                <div class="element-bar">
                    <span class="element-icon">🔥</span>
                    <span class="element-name">Fire</span>
                    <div class="progress-container">
                        <div class="progress-bar fire" id="fireBar"></div>
                    </div>
                    <span class="percentage" id="firePercent">0%</span>
                </div>

                <div class="element-bar">
                    <span class="element-icon">🏔️</span>
                    <span class="element-name">Earth</span>
                    <div class="progress-container">
                        <div class="progress-bar earth" id="earthBar"></div>
                    </div>
                    <span class="percentage" id="earthPercent">0%</span>
                </div>

                <div class="element-bar">
                    <span class="element-icon">⚔️</span>
                    <span class="element-name">Metal</span>
                    <div class="progress-container">
                        <div class="progress-bar metal" id="metalBar"></div>
                    </div>
                    <span class="percentage" id="metalPercent">0%</span>
                </div>

                <div class="element-bar">
                    <span class="element-icon">💧</span>
                    <span class="element-name">Water</span>
                    <div class="progress-container">
                        <div class="progress-bar water" id="waterBar"></div>
                    </div>
                    <span class="percentage" id="waterPercent">0%</span>
                </div>
            </div>

            <div class="characteristics">
                <div class="char-item">
                    <div class="char-label">🌟 Primary Constitution:</div>
                    <div class="char-value" id="primaryElement">-</div>
                </div>

                <div class="char-item">
                    <div class="char-label">🎯 Constitutional Characteristics:</div>
                    <div class="char-value" id="elementTalents">-</div>
                </div>
            </div>

            <div class="health-advice">
                <div class="advice-title">
                    <span>🏥</span>
                    <span id="adviceTitle">Health Impact Analysis</span>
                </div>
                <div class="advice-content" id="adviceContent">
                    Please enter your birth date for constitution analysis
                </div>
            </div>
        </div>
    </div>

    <script>
        // Heavenly Stems and Earthly Branches data
        const heavenlyStems = ['甲', '乙', '丙', '丁', '戊', '己', '庚', '辛', '壬', '癸'];
        const earthlyBranches = ['子', '丑', '寅', '卯', '辰', '巳', '午', '未', '申', '酉', '戌', '亥'];
        
        // Five Elements correspondence
        const stemElements = {
            '甲': '木', '乙': '木', '丙': '火', '丁': '火', '戊': '土',
            '己': '土', '庚': '金', '辛': '金', '壬': '水', '癸': '水'
        };
        
        const branchElements = {
            '子': '水', '丑': '土', '寅': '木', '卯': '木', '辰': '土', '巳': '火',
            '午': '火', '未': '土', '申': '金', '酉': '金', '戌': '土', '亥': '水'
        };

        // Element names mapping
        const elementNames = {
            '木': 'Wood',
            '火': 'Fire', 
            '土': 'Earth',
            '金': 'Metal',
            '水': 'Water'
        };

        // Health impact analysis data
        const healthAdvice = {
            '木': {
                lacking: 'Wood deficiency may lead to liver qi stagnation, emotional instability, eye problems, tendon and ligament issues, and difficulty with flexibility and adaptation.',
                excess: 'Excessive Wood energy may cause liver fire rising, irritability, anger, headaches, high blood pressure, and muscle tension.'
            },
            '火': {
                lacking: 'Fire deficiency may result in heart yang deficiency, poor circulation, low energy, depression, cold extremities, and lack of joy and enthusiasm.',
                excess: 'Excessive Fire energy may lead to heart fire hyperactivity, insomnia, anxiety, palpitations, high blood pressure, and inflammatory conditions.'
            },
            '土': {
                lacking: 'Earth deficiency may cause spleen qi deficiency, digestive problems, fatigue, worry, poor concentration, and weak immunity.',
                excess: 'Excessive Earth energy may result in dampness accumulation, sluggish metabolism, weight gain, mental fogginess, and overthinking.'
            },
            '金': {
                lacking: 'Metal deficiency may lead to lung qi deficiency, respiratory problems, weak immunity, dry skin, grief, and difficulty letting go.',
                excess: 'Excessive Metal energy may cause lung dryness, rigid thinking, excessive grief, skin problems, and respiratory inflammation.'
            },
            '水': {
                lacking: 'Water deficiency may result in kidney yin/yang deficiency, bone problems, hearing issues, fear, premature aging, and reproductive problems.',
                excess: 'Excessive Water energy may lead to kidney yang deficiency, edema, cold constitution, lack of motivation, and urinary problems.'
            }
        };

        // Constitutional characteristics data
        const elementCharacteristics = {
            '木': { traits: ['Creative and innovative', 'Adaptable and flexible', 'Growth-oriented', 'Compassionate', 'Visionary'] },
            '火': { traits: ['Enthusiastic and energetic', 'Expressive and communicative', 'Leadership qualities', 'Joyful and optimistic', 'Charismatic'] },
            '土': { traits: ['Stable and reliable', 'Practical and grounded', 'Patient and nurturing', 'Harmonious', 'Supportive'] },
            '金': { traits: ['Organized and systematic', 'Analytical and precise', 'Disciplined', 'Just and fair', 'Detail-oriented'] },
            '水': { traits: ['Wise and intuitive', 'Adaptable and flowing', 'Deep thinking', 'Resourceful', 'Persistent'] }
        };

        function calculateLunarDate(date) {
            // Simplified lunar calculation
            const year = date.getFullYear();
            const month = date.getMonth() + 1;
            const day = date.getDate();
            
            // Calculate Heavenly Stems and Earthly Branches (simplified algorithm)
            const yearStem = heavenlyStems[(year - 4) % 10];
            const yearBranch = earthlyBranches[(year - 4) % 12];
            
            const monthStem = heavenlyStems[(month - 1) % 10];
            const monthBranch = earthlyBranches[(month - 1) % 12];
            
            const dayStem = heavenlyStems[(day - 1) % 10];
            const dayBranch = earthlyBranches[(day - 1) % 12];
            
            // Fixed hour as Zi hour (simplified processing)
            const hourStem = heavenlyStems[0];
            const hourBranch = earthlyBranches[0];
            
            return {
                year: { stem: yearStem, branch: yearBranch },
                month: { stem: monthStem, branch: monthBranch },
                day: { stem: dayStem, branch: dayBranch },
                hour: { stem: hourStem, branch: hourBranch }
            };
        }

        function calculateFiveElements(lunarDate) {
            const elements = { '木': 0, '火': 0, '土': 0, '金': 0, '水': 0 };
            
            // Calculate five elements for each pillar
            ['year', 'month', 'day', 'hour'].forEach(period => {
                const stemElement = stemElements[lunarDate[period].stem];
                const branchElement = branchElements[lunarDate[period].branch];
                
                elements[stemElement] += 1;
                elements[branchElement] += 1;
            });
            
            // Convert to percentages
            const total = Object.values(elements).reduce((sum, val) => sum + val, 0);
            const percentages = {};
            Object.keys(elements).forEach(element => {
                percentages[element] = Math.round((elements[element] / total) * 100);
            });
            
            return percentages;
        }

        function updateProgressBars(percentages) {
            const elementIds = {
                '木': 'wood',
                '火': 'fire',
                '土': 'earth', 
                '金': 'metal',
                '水': 'water'
            };
            
            Object.keys(percentages).forEach(element => {
                const id = elementIds[element];
                const bar = document.getElementById(id + 'Bar');
                const percent = document.getElementById(id + 'Percent');
                
                setTimeout(() => {
                    bar.style.width = percentages[element] + '%';
                    percent.textContent = percentages[element] + '%';
                }, 300);
            });
        }

        function updateCharacteristics(percentages) {
            // Find primary element
            const sortedElements = Object.entries(percentages)
                .sort(([,a], [,b]) => b - a);
            
            const primaryElement = sortedElements[0][0];
            
            // Find deficient element (lowest percentage)
            const lackingElement = sortedElements[sortedElements.length - 1][0];
            const lackingPercentage = sortedElements[sortedElements.length - 1][1];
            
            document.getElementById('primaryElement').textContent = 
                `${elementNames[primaryElement]} Constitution (${percentages[primaryElement]}%)`;
            
            // Constitutional characteristics
            const traits = elementCharacteristics[primaryElement].traits;
            document.getElementById('elementTalents').textContent = traits.join(', ');
            
            // Health impact analysis
            updateHealthAdvice(lackingElement, lackingPercentage);
        }

        function updateHealthAdvice(lackingElement, percentage) {
            const adviceTitle = document.getElementById('adviceTitle');
            const adviceContent = document.getElementById('adviceContent');
            
            if (percentage < 15) {
                adviceTitle.textContent = `${elementNames[lackingElement]} Deficiency Health Impact`;
                adviceContent.textContent = healthAdvice[lackingElement].lacking;
            } else {
                adviceTitle.textContent = 'Five Elements Balance Analysis';
                adviceContent.textContent = 'Your five elements are relatively balanced. Maintain a healthy lifestyle with regular exercise, balanced nutrition, adequate sleep, and stress management to support overall well-being.';
            }
        }

        // Form submission handling
        document.getElementById('birthForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const birthDate = document.getElementById('birthDate').value;
            if (!birthDate) {
                alert('Please select your birth date');
                return;
            }
            
            const date = new Date(birthDate);
            const lunarDate = calculateLunarDate(date);
            const percentages = calculateFiveElements(lunarDate);
            
            // Show result section
            document.getElementById('resultSection').style.display = 'block';
            
            // Update progress bars and characteristics
            updateProgressBars(percentages);
            updateCharacteristics(percentages);
            
            // Scroll to result section
            document.getElementById('resultSection').scrollIntoView({ 
                behavior: 'smooth' 
            });
        });
    </script>
</body>
</html>